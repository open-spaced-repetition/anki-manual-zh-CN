# 过滤牌组与突击复习

<!-- toc -->

当你在 Anki 中学习常规牌组时，只会显示有限数量的卡片：那些 Anki 认为你即将遗忘的卡片和每天新卡片的限
制。这通常很有用，因为它确保你不会花费比必要更多的学习时间。但有时候，超出这些正常限制是有用的，比如
当你需要为考试复习、专注于特定材料等情况。为此，Anki 提供了一种不同类型的牌组，称为「过滤牌组」。

过滤牌组提供了很多可能性。它们可以用于预览卡片、在考试前突击复习卡片、学习特定标签、根据特定排序处理
积压内容、提前复习、复习当天失败的卡片等。

## 自定义学习

创建过滤牌组最简单的方法是使用自定义学习按钮，当你点击一个牌组时，它会出现在屏幕底部。它提供了一些常
见任务的便捷预设过滤，如复习当天失败的卡片。它会创建一个名为「自定义学习会话」的过滤牌组，并自动为你
打开。

如果已有「自定义学习会话」牌组存在，它将在创建新牌组之前被清空。如果你希望保留一个自定义学习牌组，可
以从牌组列表中重命名它。

以下是每个选项的摘要：

**增加今天的新卡片限制**  
为你当前学习的牌组添加更多新卡片。需要注意的是，与其他选项不同，此操作『不会』创建新的过滤牌组，而是
修改现有的牌组。

**增加今天的复习卡片限制**  
如果因每日复习限制未显示今天应复习的所有卡片，此选项允许你显示更多卡片。与新卡片选项相同，此操作修改
现有牌组。

**复习遗忘的卡片**  
显示所有在指定天数内你选择“再一次 (1)”的卡片。

**提前复习**  
显示将在近期到期的卡片（由你指定的天数）。这对于在假期前处理一些较旧的卡片很有用，但对你最近学习的卡
片无帮助。请参见下面的[提前复习](#提前复习)章节了解更多信息。

**预览新卡片**  
显示你最近添加的卡片，在回答时不将它们转换为复习卡片。

**按卡片状态或标签学习**  
从当前牌组中选择一定数量的卡片进行学习。你可以选择仅选择新卡片、仅到期卡片或所有卡片；点击「选择标
签」后，你还可以按标签限制选择的卡片。如果你希望查看牌组中的所有卡片（例如在考试前复习），可以将卡片
数量设置为多于牌组中的卡片数量。

## 首页牌组

当卡片被移到过滤牌组时，它会保留到其来源牌组的链接。前一个牌组被称为卡片的「首页牌组」。

卡片在过滤牌组中学习后会自动返回其首页牌组。这可以是在单次复习后，也可以是在多次复习后，取决于你的设
置。

也可以将所有卡片一次性移回他们的首页牌组：

- 学习概览中的「清空」按钮将过滤牌组中的所有卡片移回首页牌组，但不会删除空的过滤牌组。如果你希望稍后
  再次填充它（使用重建按钮），这会很有用。

- 删除一个过滤牌组与「清空」操作相同，但同时会从牌组列表中移除已清空的牌组。删除过滤牌组时，卡片不会
  被删除。

在旧调度器中，如果你在卡片仍处于学习状态时创建、重建、清空或删除过滤牌组，它们会被重置为新卡片。在再
学习中失败的复习情况下，任何剩余的再学习步骤将被跳过。这
在[v2 调度器](https://faqs.ankiweb.net/the-anki-2.1-scheduler.html)中得到修复，因此卡片不再被重置。

## 手动创建

高级用户可以使用任意搜索字符串（或「过滤器」）创建过滤牌组，而不是依赖预设过滤器。要手动创建过滤牌
组，请从工具菜单中选择「创建过滤牌组」。

当你点击构建按钮时，Anki 会根据你指定的设置找到匹配的卡片，并临时将它们从现有牌组移到新的过滤牌组进
行学习。

如果你希望使用相同的过滤选项再次获取卡片（例如，如果你想每天学习所有带有特定标签的卡片），可以在牌组
概览的底部使用重建按钮。

**搜索**区域控制 Anki 将收集哪些卡片。浏览器中可能搜索的所有内容对于过滤牌组也是可能的，例如限制为标
签、查找遗忘一定次数的卡片等。请参见手册中的[搜索](searching.md)部分，了解不同可能性的更多信息。

过滤牌组无法收录暂停的、搁置的或已经在其他过滤牌组中的卡片。如果你在使用 v1 调度器，学习中的卡片也不
会被包括在内。因此，浏览器中的搜索可能会揭示不会最终进入过滤牌组的卡片。

**限制**选项控制将有多少卡片被收集到牌组中。你选择的顺序不仅控制了卡片的收集顺序，还控制了它们的复习
顺序。例如，如果你选择「最多跌倒」和限制为 20，Anki 只会展示给你跌倒最多的 20 张卡片。

**启用第二过滤器**选项允许你创建包含两次不同搜索的过滤牌组，因此你可以，例如，使用一个顺序包含到期卡
片，并用不同的顺序包含少量新卡片。

## 顺序

「卡片选择依据」选项控制卡片将出现的顺序。如果你选择的最大卡片数量低于符合过滤条件的卡片数量，Anki将
首先排除这个排序列表末尾的卡片。

**最久未见优先**  
首先显示那些在复习中被忽视最久的卡片。

**随机**  
将匹配过滤条件的所有卡片随机排序（不使用设定顺序）。

**增加的间隔**  
首先显示间隔最小的卡片。

**减小的间隔**  
首先显示间隔最大的卡片。

**最多跌倒**  
首先显示那些你失败次数最多的卡片。

**添加顺序**  
首先显示你最早添加的卡片（即那些创建日期最早的卡片）。

**到期顺序**  
首先显示到期日期最早的卡片。

**最新添加优先**  
首先显示你最近添加到牌组的卡片。（这与「添加顺序」相反。）

**相对过时**  
首先显示你最可能遗忘的卡片。这在你拥有大量积压内容且可能需要一段时间来处理时很有用，并且你希望减少遗
忘更多卡片的可能性。

使用 SM-2 调度器时，过时程度是通过比较卡片的超期程度和其间隔长度来确定的。例如，一张当前间隔为 5 天
且超期 2 天的卡片，将显示在当前间隔为 10 天且超期 3 天的卡片之前。

使用 FSRS 时，过时程度基于每个卡片的检索能力及牌组预设中的期望保留来计算。

## 步骤与返回

请参阅[学习](studying.md#学习/重学卡片)章节，了解步骤如何运作。

默认情况下，Anki 将使用卡片首页牌组的步骤。如果新卡片在学习时正常需要复习两次，那么当你在过滤牌组中
学习它时，同样也会发生。

卡片在学习（重新学习）完成时返回其首页牌组。因此，如果你有 3 个学习步骤，新卡片将在按下「好」三次或
按下「容易」一次后返回首页牌组。

**v1 和 v2 调度器**

在 v1 调度器中，**自定义步骤**选项允许你覆盖首页牌组的步骤并提供自己的步骤。提供的步骤适用于学习中的
卡片、跌倒的复习以及提前的复习步骤。然而，请注意，
从[v2 调度器](https://faqs.ankiweb.net/the-anki-2.1-scheduler.html)开始，过滤牌
组[不再支持自定义步骤](https://forums.ankiweb.net/t/filtered-deck-interval-problem/11834/8)。

**v3 调度器**

在[v3 调度器](https://faqs.ankiweb.net/the-2021-scheduler.html)中，禁用重新排程的过滤牌组显示 4 个按
钮 - 提供的延迟适用于“再一次”按钮，而“困难/好”将使用 1.5 倍和 2 倍的提供延迟。“容易”将移除卡片。

## 计数

在过滤牌组中，已经到期的复习卡片正常显示在复习计数中。学习卡片和未到期复习卡片由于底层实现的工作方式
被计入新卡片计数。然而，未到期的复习卡片并不像新卡片一样被排程：Anki 使用一种特殊算法，考虑它们在复
习时距离正常到期时间的接近程度。

## 到期复习

如果过滤牌组中包含到期复习的卡片，它们会像其原牌组中那样被显示：它们出现在屏幕底部的复习卡片计数中，
并且有四种选择可以评估你记得的程度。答案正确后，卡片将返回到其首页牌组，并根据首页牌组的设置调整其下
次延迟。如果你忘记了卡片，它将根据首页牌组中定义的再学习步骤来显示。

## 提前复习

如果你的搜索包括未到期的卡片，Anki 会提前显示这些复习。

Anki 对这些复习使用一种特别的算法，考虑到你复习的提前程度。如果卡片几乎到期，它们将被赋予一个新延
迟，类似于如果你按时复习它们时收到的延迟。然而，如果卡片是在计划后的不久被复习的，它们的新延迟将类似
于之前的延迟。此计算在一个滑动尺度上进行。

因为在计划后不久复习卡片对计划影响很小（例如，一个一天间隔的卡片如果提前复习，仍将在明天到期），**“
提前复习”自定义学习设置不适合反复使用**。如果用于在一次旅行前复习一周的卡片，成熟卡片将被重新安排到
未来，而新卡片将保持在小间隔中，因为你对它们了解得不够好，无法将它们重新安排得更远。如果你在第二天再
次提前复习，你所做的只是重复复习那些新卡片，效果甚微。

提前复习的卡片计入新卡片计数，而不是复习计数，并将根据首页牌组中定义的再学习步骤进行显示（除非你提供
了自定义步骤）。这意味着如果你在首页牌组中自定义了再学习步骤数量，未到期的卡片可能会被多次显示。

如果你有多个步骤，Anki 只会在决定下次延迟时考虑第一次答案。像正常牌组中的再学习一样，「好」和「容
易」在步骤变化上有所不同，但在结果延迟上没有区别。

## 重新排程

默认情况下，Anki 将通过在过滤牌组中的表现来调整计划后返回卡片到它们的首页牌组。有一个**基于我的答案
重新排程卡片**选项可用，它会改变此行为。从
[v2 调度器](https://faqs.ankiweb.net/the-anki-2.1-scheduler.html) 开始，当重新安排被禁用时，卡片会以
简单的「预览模式」显示，当它们返回到原始牌组时，位置会准确回到开始时的状态。

在 v1 调度器中，卡片的展示方式更接近于正常情况，但学习卡片会产生一些副作用，并且在学习时，新卡片的原
始位置会丢失。

## 补课

当你在复习中落后时，过滤牌组对于补课非常有用。一位 Anki 用户描述了他们使用过滤牌组来补课的方法如下：

我用过滤子牌组处理了 800 张卡片的积压。对我来说效果很好。

刚刚到期的过滤器为：「is:due prop:due>-7」

超过到期的过滤器为：「is:due prop:due<=-7」

刚刚到期的牌组将包含在过去一周内到期的卡片。那是你应该每天学习的牌组，因为它包含了规律到期的卡片。通
过这种方式，你可以像没有积压一样学习。

超过到期的牌组将包含你的积压 —— 你没有及时学习的卡片。你可以像学习新卡片一样学习它们。它们会返回到常
规卡片中，所以只要你保持刚刚到期的牌组被检查，未完成的卡片数量就不会增加。

耗时多久取决于你每天除了规律到期卡片外还能学习多少超期卡片。当你有感觉时，你依然可以快速通过它们 ——
或者你可以像处理新卡片一样每天学一个特定的数量。由你决定。
